--- #sample recipe
recipe:
  -  # step0
    name: HTTPBIN call
    httpmethod: GET
    URL: http://httpbin.org/get
    request:
      # body:
      #   name: json name parameter
      #   upstream_uri: http://wiremock/blah
      #   strip_url: false
      headers:
        Authorisation: yadda-step one authorisation header brad
        X-ABC: 1231233425435fsdf
      querystring:
        keya: vala
        keyb: valb
    response: # set up this response section if you need to pull out data here for use later in the recipe.
              # the YAML hierarchy will map to the JSON response obtained and the the values received from
              # the call will be inserted into the appropriate response variables so that subsequent steps
              # can access them with the php-like construct
      body:
        id: this_is_a_param
      headers:
        Authorisation:
      code:
  -
    name: Load OAUTH Plugin
    httpmethod: POST
    URL: http://httpbin.org/post #gets the JSON field id from the body of the response from step 1.
    request:
      querystring:
        key3: value3
        keysub: <%=steps[0].request.headers["Authorisation"]%>
      body:
        key4: valueprefix <%=steps[0].request.headers["X-ABC"]%>
      headers:
        blah: blahbha
        Authorisation: bearer <%=steps[0].request.querystring["keyb"]%>
    response: # set up this response section if you need to pull out data here for use later in the recipe.
      code:
      body:
      headers:
        Authorisation:
